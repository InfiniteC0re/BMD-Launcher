<template>
  <div id="repeatButton" @click="clickHandle" :class="{ active: isActive }">
    <svg
      width="26"
      height="25"
      viewBox="0 0 26 25"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g>
        <path
          d="M10.7197 24.5C10.4639 24.5 10.208 24.4023 10.0127 24.207L7.48535 21.6797C7.29785 21.4922 7.19238 21.2378 7.19238 20.9727C7.19238 20.7075 7.29785 20.4531 7.48535 20.2656L10.0127 17.7388C10.4033 17.3481 11.0361 17.3481 11.4268 17.7388C11.8174 18.1294 11.8174 18.7627 11.4268 19.1528L9.60645 20.9727L11.4268 22.793C11.8174 23.1836 11.8174 23.8164 11.4268 24.207C11.2314 24.4023 10.9756 24.5 10.7197 24.5Z"
        />
        <path
          d="M17.8076 21.9727H8.19238C7.63965 21.9727 7.19238 21.5249 7.19238 20.9727C7.19238 20.4204 7.63965 19.9727 8.19238 19.9727H17.8076C21.2217 19.9727 24 17.1948 24 13.7808C24 12.6001 23.667 11.4526 23.0371 10.4624C22.7402 9.99658 22.8779 9.37842 23.3438 9.08203C23.8115 8.78564 24.4287 8.92285 24.7246 9.38916C25.5586 10.7002 26 12.2187 26 13.7808C26 18.2978 22.3252 21.9727 17.8076 21.9727Z"
        />
        <path
          d="M4.16992 20.1836C3.97754 20.1836 3.78223 20.1279 3.61133 20.0122C1.34961 18.4839 0 15.9443 0 13.2192C0 8.70215 3.6748 5.02734 8.19238 5.02734H10.7197C11.2725 5.02734 11.7197 5.4751 11.7197 6.02734C11.7197 6.57959 11.2725 7.02734 10.7197 7.02734H8.19238C4.77832 7.02734 2 9.80518 2 13.2192C2 15.2793 3.02051 17.1992 4.73047 18.355C5.18848 18.6646 5.30859 19.2861 4.99902 19.7437C4.80664 20.0293 4.49121 20.1836 4.16992 20.1836Z"
        />
        <path
          d="M18 0.5C15.2386 0.5 13 2.73859 13 5.5C13 8.26141 15.2386 10.5 18 10.5C20.7614 10.5 23 8.26141 23 5.5C23 2.73859 20.7614 0.5 18 0.5ZM19 7.5C19 8.05225 18.5523 8.5 18 8.5C17.4477 8.5 17 8.05225 17 7.5V3.5C17 2.94769 17.4477 2.5 18 2.5C18.5523 2.5 19 2.94769 19 3.5V7.5Z"
        />
      </g>
    </svg>
    <div class="tooltip clip">REPEAT</div>
  </div>
</template>

<script>
export default {
  data: () => ({
    active: false,
  }),
  methods: {
    clickHandle() {
      this.$store.commit("setRepeat", !this.isActive);
    },
  },
  computed: {
    isActive() {
      return this.$store.state.soundCloud.repeat;
    },
  },
};
</script>

<style lang="scss" scoped>
#repeatButton {
  margin: 0 8px;
  cursor: pointer;
  position: relative;

  svg {
    fill: rgba(255, 255, 255, 1);
    opacity: 0.2;
    transition: 0.2s opacity;
  }

  &:hover {
    svg {
      opacity: 0.6;
    }
  }

  &.active {
    svg {
      opacity: 1;
    }
  }
}
</style>